# –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö OneStack - –°–ø–∏—Å–æ–∫ –¢–∞–±–ª–∏—Ü

> **–ü—Ä–æ–µ–∫—Ç:** kvota/onestack
> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-20
> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –ë–î –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ë–∞–∑–æ–≤—ã–µ –¢–∞–±–ª–∏—Ü—ã (Supabase)](#–±–∞–∑–æ–≤—ã–µ-—Ç–∞–±–ª–∏—Ü—ã-supabase)
2. [–°–∏—Å—Ç–µ–º–∞ –†–æ–ª–µ–π –∏ –î–æ—Å—Ç—É–ø–∞](#—Å–∏—Å—Ç–µ–º–∞-—Ä–æ–ª–µ–π-–∏-–¥–æ—Å—Ç—É–ø–∞)
3. [–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–ö–ü)](#–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è-–∫–ø)
4. [Workflow –∏ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è](#workflow-–∏-—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è)
5. [–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –°–¥–µ–ª–∫–∏](#—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏-–∏-—Å–¥–µ–ª–∫–∏)
6. [Supply Chain (–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ –∏ –ö–æ–º–ø–∞–Ω–∏–∏)](#supply-chain-–ø–æ—Å—Ç–∞–≤—â–∏–∫–∏-–∏-–∫–æ–º–ø–∞–Ω–∏–∏)
7. [–ö–ª–∏–µ–Ω—Ç—ã](#–∫–ª–∏–µ–Ω—Ç—ã)
8. [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –õ–æ–∫–∞—Ü–∏–∏](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏-–∏-–ª–æ–∫–∞—Ü–∏–∏)
9. [–°—á–µ—Ç–∞ –ü–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤](#—Å—á–µ—Ç–∞-–ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤)
10. [–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –£—á–µ—Ç (–ü–ª–∞–Ω-–§–∞–∫—Ç)](#—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π-—É—á–µ—Ç-–ø–ª–∞–Ω-—Ñ–∞–∫—Ç)
11. [–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è](#—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

---

## –ë–∞–∑–æ–≤—ã–µ –¢–∞–±–ª–∏—Ü—ã (Supabase)

### 1. `organizations`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–∫–æ–º–ø–∞–Ω–∏–∏) –≤ —Å–∏—Å—Ç–µ–º–µ
**–ü–æ–ª—è:** –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ Supabase

### 2. `organization_members`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö (—Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º)
**–ü–æ–ª—è:** user_id, organization_id
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ Supabase

### 3. `customers`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–ª–∏–µ–Ω—Ç—ã (–∫–æ–º–ø–∞–Ω–∏–∏-–ø–æ–∫—É–ø–∞—Ç–µ–ª–∏)
**–ü–æ–ª—è:** –ù–∞–∑–≤–∞–Ω–∏–µ, –ò–ù–ù, –ö–ü–ü, –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4. `products`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
**–ü–æ–ª—è:** –ù–∞–∑–≤–∞–Ω–∏–µ, –∞—Ä—Ç–∏–∫—É–ª (SKU), –±—Ä–µ–Ω–¥, –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## –°–∏—Å—Ç–µ–º–∞ –†–æ–ª–µ–π –∏ –î–æ—Å—Ç—É–ø–∞

### 5. `roles`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ
**–ü–æ–ª—è:**
- `id` - UUID
- `code` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ —Ä–æ–ª–∏ (sales, procurement, logistics, customs, quote_controller, spec_controller, finance, top_manager, admin)
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏ (—Ä—É—Å.)
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 001_create_roles_table.sql

### 6. `user_roles`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º)
**–ü–æ–ª—è:**
- `user_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ auth.users
- `organization_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ organizations
- `role_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ roles
- `created_by` - –ö—Ç–æ –Ω–∞–∑–Ω–∞—á–∏–ª —Ä–æ–ª—å

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á:** (user_id, organization_id, role_id)
**–ú–∏–≥—Ä–∞—Ü–∏—è:** 002_create_user_roles_table.sql

### 7. `brand_assignments`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–æ–≤ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º –ø–æ –∑–∞–∫—É–ø–∫–∞–º
**–ü–æ–ª—è:**
- `organization_id` - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
- `brand` - –ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞
- `user_id` - –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –∑–∞–∫—É–ø–∫–∞–º
- `created_by` - –ö—Ç–æ —Å–æ–∑–¥–∞–ª –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á:** –û–¥–∏–Ω –±—Ä–µ–Ω–¥ = –æ–¥–∏–Ω –º–µ–Ω–µ–¥–∂–µ—Ä –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
**–ú–∏–≥—Ä–∞—Ü–∏—è:** 003_create_brand_assignments_table.sql

---

## –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–ö–ü)

### 8. `quotes`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–ö–ü)
**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- `id` - UUID
- `organization_id` - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
- `idn` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –ö–ü
- `customer_id` - –ö–ª–∏–µ–Ω—Ç
- `workflow_status` - –°—Ç–∞—Ç—É—Å –≤ workflow (draft, pending_procurement, pending_logistics, pending_customs, pending_sales_review, pending_quote_control, pending_approval, approved, sent_to_client, client_negotiation, pending_spec_control, pending_signature, deal, rejected, cancelled)
- `deal_type` - –¢–∏–ø —Å–¥–µ–ª–∫–∏ (supply/transit)
- `assigned_procurement_users` - –ú–∞—Å—Å–∏–≤ UUID –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–æ –∑–∞–∫—É–ø–∫–∞–º
- `assigned_logistics_user` - –õ–æ–≥–∏—Å—Ç
- `assigned_customs_user` - –ú–µ–Ω–µ–¥–∂–µ—Ä –¢–û
- `current_version_id` - –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –ö–ü

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 012_extend_quotes_table.sql

### 9. `quote_items`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∑–∏—Ü–∏–∏ –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏
**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- `quote_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ quotes
- `product_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ products
- `quantity` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `unit_price` - –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
- `brand` - –ë—Ä–µ–Ω–¥ —Ç–æ–≤–∞—Ä–∞
- `assigned_procurement_user` - –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –∑–∞–∫—É–ø–∫–∞–º (–Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –±—Ä–µ–Ω–¥—É)
- `procurement_status` - –°—Ç–∞—Ç—É—Å –∑–∞–∫—É–ø–∫–∏ (pending, in_progress, completed)
- `hs_code` - –ö–æ–¥ –¢–ù –í–≠–î
- `customs_duty` - –¢–∞–º–æ–∂–µ–Ω–Ω–∞—è –ø–æ—à–ª–∏–Ω–∞
- –ü–æ–ª—è –∑–∞–∫—É–ø–∫–∏: supplier_city, production_time_days, supplier_payment_terms, payer_company, advance_to_supplier_percent
- –ü–æ–ª—è –ª–æ–≥–∏—Å—Ç–∏–∫–∏: pickup_location_id, delivery_location_id, logistics_period, logistics_cost
- –ü–æ–ª—è —Ç–∞–º–æ–∂–Ω–∏: customs_duty, customs_extra

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 013_extend_quote_items_table.sql, 016_add_procurement_data_fields.sql

### 10. `quote_versions`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–µ—Ä—Å–∏–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
**–ü–æ–ª—è:** –í–µ—Ä—Å–∏—è –ö–ü, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –£–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ full_schema

---

## Workflow –∏ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

### 11. `workflow_transitions`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê—É–¥–∏—Ç-–ª–æ–≥ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ –ö–ü
**–ü–æ–ª—è:**
- `quote_id` - –ö–ü
- `from_status` - –ò–∑ –∫–∞–∫–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- `to_status` - –í –∫–∞–∫–æ–π —Å—Ç–∞—Ç—É—Å
- `actor_id` - –ö—Ç–æ –∏–∑–º–µ–Ω–∏–ª
- `actor_role` - –†–æ–ª—å –∞–∫—Ç–æ—Ä–∞
- `comment` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `created_at` - –í—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∞

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 004_create_workflow_transitions_table.sql

### 12. `approvals`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ö–ü
**–ü–æ–ª—è:**
- `quote_id` - –ö–ü –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- `requested_by` - –ö—Ç–æ –∑–∞–ø—Ä–æ—Å–∏–ª
- `approver_id` - –ö—Ç–æ —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–µ—Ç
- `approval_type` - –¢–∏–ø —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è (top_manager, department, etc.)
- `reason` - –ü—Ä–∏—á–∏–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞
- `status` - –°—Ç–∞—Ç—É—Å (pending, approved, rejected)
- `decision_comment` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ—à–µ–Ω–∏—è
- `requested_at` - –í—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞
- `decided_at` - –í—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 005_create_approvals_table.sql, 035_add_modifications_to_approvals.sql

---

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –°–¥–µ–ª–∫–∏

### 13. `specifications`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫ –¥–æ–≥–æ–≤–æ—Ä–∞–º –ø–æ—Å—Ç–∞–≤–∫–∏
**–ü–æ–ª—è:**
- `quote_id` - –°–≤—è–∑–∞–Ω–Ω–æ–µ –ö–ü
- `quote_version_id` - –í–µ—Ä—Å–∏—è –ö–ü
- `specification_number` - –ù–æ–º–µ—Ä —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `proposal_idn` - IDN –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- `sign_date` - –î–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
- `validity_period` - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
- `specification_currency` - –í–∞–ª—é—Ç–∞
- `client_payment_terms` - –£—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
- `cargo_pickup_country` - –°—Ç—Ä–∞–Ω–∞ –∑–∞–±–æ—Ä–∞ –≥—Ä—É–∑–∞
- `delivery_city_russia` - –ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –†–§
- `our_legal_entity` - –ù–∞—à–µ —é—Ä–ª–∏—Ü–æ (–ø—Ä–æ–¥–∞–≤–µ—Ü)
- `client_legal_entity` - –Æ—Ä–ª–∏—Ü–æ –∫–ª–∏–µ–Ω—Ç–∞
- `signed_scan_url` - URL –ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–∫–∞–Ω–∞
- `status` - –°—Ç–∞—Ç—É—Å (draft, pending_review, approved, signed)

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 006_create_specifications_table.sql, 036_extend_specifications_v3.sql

### 14. `deals`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–¥–µ–ª–∫–∏ (–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
**–ü–æ–ª—è:**
- `specification_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
- `quote_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ –ö–ü
- `deal_number` - –ù–æ–º–µ—Ä —Å–¥–µ–ª–∫–∏
- `signed_at` - –î–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
- `total_amount` - –°—É–º–º–∞ —Å–¥–µ–ª–∫–∏
- `currency` - –í–∞–ª—é—Ç–∞
- `status` - –°—Ç–∞—Ç—É—Å (active, completed, cancelled)

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 007_create_deals_table.sql, 037_extend_deals_v3.sql

---

## Supply Chain (–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ –∏ –ö–æ–º–ø–∞–Ω–∏–∏)

### 15. `suppliers`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–Ω–µ—à–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
**–ü–æ–ª—è:**
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- `supplier_code` - 3-–±—É–∫–≤–µ–Ω–Ω—ã–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, CMT, RAR)
- `country` - –°—Ç—Ä–∞–Ω–∞
- `city` - –ì–æ—Ä–æ–¥
- `inn` - –ò–ù–ù (–¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤)
- `kpp` - –ö–ü–ü
- `contact_person` - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ
- `contact_email`, `contact_phone` - –ö–æ–Ω—Ç–∞–∫—Ç—ã
- `default_payment_terms` - –£—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 018_create_suppliers_table.sql

### 16. `buyer_companies`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞—à–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞ –¥–ª—è –∑–∞–∫—É–ø–∫–∏
**–ü–æ–ª—è:**
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `company_code` - 3-–±—É–∫–≤–µ–Ω–Ω—ã–π –∫–æ–¥
- `country` - –°—Ç—Ä–∞–Ω–∞
- `inn`, `kpp`, `ogrn` - –†–µ–∫–≤–∏–∑–∏—Ç—ã
- `registration_address` - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- `general_director_name` - –§–ò–û –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
- `general_director_position` - –î–æ–ª–∂–Ω–æ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
- `is_active` - –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–æ–º–ø–∞–Ω–∏—è

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 019_create_buyer_companies_table.sql

### 17. `seller_companies`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞—à–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
**–ü–æ–ª—è:**
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `supplier_code` - 3-–±—É–∫–≤–µ–Ω–Ω—ã–π –∫–æ–¥ (MBR, RAR, CMT, GES, TEX)
- `country` - –°—Ç—Ä–∞–Ω–∞
- `inn`, `kpp`, `ogrn` - –†–µ–∫–≤–∏–∑–∏—Ç—ã
- `registration_address` - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- `general_director_name` - –§–ò–û –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
- `general_director_position` - –î–æ–ª–∂–Ω–æ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
- `is_active` - –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–æ–º–ø–∞–Ω–∏—è

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 020_create_seller_companies_table.sql

### 18. `brand_supplier_assignments`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–≤—è–∑—å –±—Ä–µ–Ω–¥–æ–≤ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–∫–∞–∫–æ–π –ø–æ—Å—Ç–∞–≤—â–∏–∫ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∫–æ–π –±—Ä–µ–Ω–¥)
**–ü–æ–ª—è:**
- `brand` - –ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞
- `supplier_id` - –ü–æ—Å—Ç–∞–≤—â–∏–∫
- `is_primary` - –û—Å–Ω–æ–≤–Ω–æ–π –ª–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫ –¥–ª—è –±—Ä–µ–Ω–¥–∞
- `notes` - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 025_create_brand_supplier_assignments_table.sql

### 19. `bank_accounts`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–º–ø–∞–Ω–∏–π)
**–ü–æ–ª—è:**
- `entity_type` - –¢–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏ (supplier, buyer_company, seller_company, customer)
- `entity_id` - ID —Å—É—â–Ω–æ—Å—Ç–∏
- `bank_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞
- `account_number` - –†–∞—Å—á—ë—Ç–Ω—ã–π —Å—á—ë—Ç
- `bik` - –ë–ò–ö (–†–§)
- `correspondent_account` - –ö–æ—Ä—Ä. —Å—á—ë—Ç
- `swift` - SWIFT/BIC
- `iban` - IBAN
- `currency` - –í–∞–ª—é—Ç–∞ —Å—á—ë—Ç–∞
- `is_default` - –û—Å–Ω–æ–≤–Ω–æ–π —Å—á—ë—Ç
- `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 023_create_bank_accounts_table.sql

---

## –ö–ª–∏–µ–Ω—Ç—ã

### 20. `customer_contacts`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–õ–ü–†)
**–ü–æ–ª—è:**
- `customer_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ customers
- `name` - –§–ò–û –∫–æ–Ω—Ç–∞–∫—Ç–∞
- `position` - –î–æ–ª–∂–Ω–æ—Å—Ç—å
- `email`, `phone` - –ö–æ–Ω—Ç–∞–∫—Ç—ã
- `is_signatory` - –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–¥–ø–∏—Å–∞–Ω—Ç–æ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- `is_primary` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–∞–∫—Ç
- `notes` - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 021_create_customer_contacts_table.sql

### 21. `customer_contracts`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–≥–æ–≤–æ—Ä—ã –ø–æ—Å—Ç–∞–≤–∫–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
**–ü–æ–ª—è:**
- `customer_id` - –ö–ª–∏–µ–Ω—Ç
- `contract_number` - –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞
- `contract_date` - –î–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞
- `status` - –°—Ç–∞—Ç—É—Å (active, suspended, terminated)
- `next_specification_number` - –°—á—ë—Ç—á–∏–∫ –¥–ª—è –Ω—É–º–µ—Ä–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- `notes` - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á:** (organization_id, contract_number)
**–ú–∏–≥—Ä–∞—Ü–∏—è:** 022_create_customer_contracts_table.sql

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –õ–æ–∫–∞—Ü–∏–∏

### 22. `locations`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ª–æ–∫–∞—Ü–∏–π (–≥–æ—Ä–æ–¥–∞/—Å—Ç—Ä–∞–Ω—ã) –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ö
**–ü–æ–ª—è:**
- `country` - –°—Ç—Ä–∞–Ω–∞
- `city` - –ì–æ—Ä–æ–¥
- `code` - –ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–¥ (MSK, SPB, SH)
- `address` - –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `is_hub` - –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ö–∞–±?
- `is_customs_point` - –ü—É–Ω–∫—Ç —Ç–∞–º–æ–∂–µ–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏?
- `is_active` - –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ª–æ–∫–∞—Ü–∏—è
- `display_name` - –í—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ –¥–ª—è UI
- `search_text` - Lowercase —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞

**–§—É–Ω–∫—Ü–∏–∏:** `search_locations()`, `create_default_locations()`
**–ú–∏–≥—Ä–∞—Ü–∏—è:** 024_create_locations_table.sql

### 23. `route_logistics_assignments`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ª–æ–≥–∏—Å—Ç–æ–≤ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç—ã
**–ò—Å—Ç–æ—á–Ω–∏–∫:** 027_create_route_logistics_assignments_table.sql

---

## –°—á–µ—Ç–∞ –ü–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

### 24. `supplier_invoices`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–µ—Å—Ç—Ä —Å—á–µ—Ç–æ–≤ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
**–ü–æ–ª—è:**
- `supplier_id` - –ü–æ—Å—Ç–∞–≤—â–∏–∫
- `invoice_number` - –ù–æ–º–µ—Ä —Å—á—ë—Ç–∞
- `invoice_date` - –î–∞—Ç–∞ —Å—á—ë—Ç–∞
- `due_date` - –°—Ä–æ–∫ –æ–ø–ª–∞—Ç—ã
- `total_amount` - –°—É–º–º–∞ —Å—á—ë—Ç–∞
- `currency` - –í–∞–ª—é—Ç–∞
- `status` - –°—Ç–∞—Ç—É—Å (pending, partially_paid, paid, overdue, cancelled)
- `notes` - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- `invoice_file_url` - URL —Å–∫–∞–Ω–∞ —Å—á—ë—Ç–∞

**–§—É–Ω–∫—Ü–∏–∏:**
- `update_overdue_supplier_invoices()` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö
- `get_invoice_payment_summary()` - –°–≤–æ–¥–∫–∞ –ø–æ –æ–ø–ª–∞—Ç–∞–º
- `get_supplier_invoices_summary()` - –°–≤–æ–¥–∫–∞ –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 032_create_supplier_invoices_table.sql

### 25. `supplier_invoice_items`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∑–∏—Ü–∏–∏ –≤ —Å—á–µ—Ç–∞—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
**–ü–æ–ª—è:**
- `invoice_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ supplier_invoices
- `quote_item_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ quote_items (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- `quantity` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `unit_price` - –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
- `total_price` - –û–±—â–∞—è —Å—É–º–º–∞ (–∞–≤—Ç–æ–≤—ã—á–∏—Å–ª—è–µ–º–∞—è)
- `unit` - –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è

**–¢—Ä–∏–≥–≥–µ—Ä—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç total_amount –≤ parent invoice
**–ú–∏–≥—Ä–∞—Ü–∏—è:** 033_create_supplier_invoice_items_table.sql

### 26. `supplier_invoice_payments`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–ª–∞—Ç–µ–∂–∏ –ø–æ —Å—á–µ—Ç–∞–º –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
**–ü–æ–ª—è:**
- `invoice_id` - –°—á—ë—Ç
- `payment_date` - –î–∞—Ç–∞ –ø–ª–∞—Ç–µ–∂–∞
- `amount` - –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞
- `currency` - –í–∞–ª—é—Ç–∞
- `exchange_rate` - –ö—É—Ä—Å –∫ —Ä—É–±–ª—é
- `payment_type` - –¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞ (advance, partial, final, refund)
- `buyer_company_id` - –ù–∞—à–µ —é—Ä–ª–∏—Ü–æ, –∫–æ—Ç–æ—Ä–æ–µ –ø–ª–∞—Ç–∏–ª–æ
- `payment_document` - –ù–æ–º–µ—Ä –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `notes` - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–¢—Ä–∏–≥–≥–µ—Ä—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ invoice –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞
**–§—É–Ω–∫—Ü–∏–∏:**
- `get_invoice_payments_summary()` - –°–≤–æ–¥–∫–∞ –ø–æ –ø–ª–∞—Ç–µ–∂–∞–º
- `get_payments_for_invoice()` - –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –ø–æ —Å—á—ë—Ç—É
- `get_payments_by_buyer_company()` - –ü–ª–∞—Ç–µ–∂–∏ –ø–æ —é—Ä–ª–∏—Ü—É
- `get_supplier_payment_summary()` - –°–≤–æ–¥–∫–∞ –ø–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 034_create_supplier_invoice_payments_table.sql

---

## –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –£—á–µ—Ç (–ü–ª–∞–Ω-–§–∞–∫—Ç)

### 27. `plan_fact_categories`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫)
**–ü–æ–ª—è:**
- `code` - –ö–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (client_payment, supplier_payment, logistics, customs, tax, finance_commission, other)
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ (—Ä—É—Å.)
- `is_income` - –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–æ—Ö–æ–¥–æ–º
- `sort_order` - –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 008_create_plan_fact_categories_table.sql, 014_seed_plan_fact_categories.sql

### 28. `plan_fact_items`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–ª–∞–Ω–æ–≤—ã–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Ç–µ–∂–∏ –ø–æ —Å–¥–µ–ª–∫–∞–º
**–ü–æ–ª—è:**
- `deal_id` - –°–¥–µ–ª–∫–∞
- `category_id` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–∞
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ
- `planned_amount` - –ü–ª–∞–Ω–æ–≤–∞—è —Å—É–º–º–∞
- `planned_currency` - –í–∞–ª—é—Ç–∞ –ø–ª–∞–Ω–∞
- `planned_date` - –ü–ª–∞–Ω–æ–≤–∞—è –¥–∞—Ç–∞
- `actual_amount` - –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—É–º–º–∞
- `actual_currency` - –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª—é—Ç–∞
- `actual_date` - –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞
- `actual_exchange_rate` - –ö—É—Ä—Å –æ–±–º–µ–Ω–∞
- `variance_amount` - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (–∞–≤—Ç–æ–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ)
- `payment_document` - –ü–ª–∞—Ç—ë–∂–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- `notes` - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–¢—Ä–∏–≥–≥–µ—Ä—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç variance_amount
**–ú–∏–≥—Ä–∞—Ü–∏—è:** 009_create_plan_fact_items_table.sql

---

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 29. `telegram_users`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–≤—è–∑—å –∞–∫–∫–∞—É–Ω—Ç–æ–≤ Telegram —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
**–ü–æ–ª—è:**
- `user_id` - –°—Å—ã–ª–∫–∞ –Ω–∞ auth.users
- `telegram_id` - ID –≤ Telegram
- `telegram_username` - Username –≤ Telegram
- `is_verified` - –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –ª–∏
- `verification_code` - –ö–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `verification_code_expires_at` - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–∞
- `verified_at` - –í—Ä–µ–º—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–§—É–Ω–∫—Ü–∏–∏:**
- `generate_telegram_verification_code()` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
- `request_telegram_verification()` - –ó–∞–ø—Ä–æ—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `verify_telegram_account()` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 010_create_telegram_users_table.sql

### 30. `notifications`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
**–ü–æ–ª—è:**
- `user_id` - –ü–æ–ª—É—á–∞—Ç–µ–ª—å
- `quote_id` - –°–≤—è–∑–∞–Ω–Ω–æ–µ –ö–ü (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `deal_id` - –°–≤—è–∑–∞–Ω–Ω–∞—è —Å–¥–µ–ª–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `type` - –¢–∏–ø (task_assigned, approval_required, approval_decision, status_changed, returned_for_revision, comment_added, deadline_reminder, system_message)
- `title` - –ó–∞–≥–æ–ª–æ–≤–æ–∫
- `message` - –¢–µ–∫—Å—Ç
- `channel` - –ö–∞–Ω–∞–ª (telegram, email, in_app)
- `status` - –°—Ç–∞—Ç—É—Å (pending, sent, delivered, read, failed)
- `telegram_message_id` - ID —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
- `email_message_id` - ID email
- `error_message` - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- `sent_at` - –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- `delivered_at` - –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏
- `read_at` - –í—Ä–µ–º—è –ø—Ä–æ—á—Ç–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏–∏:**
- `create_notification()` - –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `mark_notification_sent()` - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
- `mark_notification_failed()` - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ–≤–∞–ª–∏–≤—à–µ–µ—Å—è
- `mark_notification_read()` - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
- `get_pending_notifications()` - –ü–æ–ª—É—á–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–ú–∏–≥—Ä–∞—Ü–∏—è:** 011_create_notifications_table.sql, 041_extend_notifications_v3.sql

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–í—Å–µ–≥–æ —Ç–∞–±–ª–∏—Ü –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö:** 30
**–†–µ–∞–ª—å–Ω–æ –≤ Production:** 45 —Ç–∞–±–ª–∏—Ü ‚úÖ
**–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (–∏–∑ –º–∏–≥—Ä–∞—Ü–∏–π):** 8 —Ç–∞–±–ª–∏—Ü ‚ùå
**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–Ω–µ—Ç –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö):** 22 —Ç–∞–±–ª–∏—Ü—ã ‚ÑπÔ∏è
**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:** 40+
**–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (views):** 3+
**–û—Å–Ω–æ–≤–Ω—ã—Ö workflow —Å—Ç–∞—Ç—É—Å–æ–≤:** 15

> **‚ö†Ô∏è –í–ê–ñ–ù–û:** –§–∞–π–ª `PRODUCTION_TABLES.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –≤ production –ë–î

---

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ —Å–≤—è–∑–µ–π:

1. **Quote Flow:**
   ```
   quotes ‚Üí quote_items ‚Üí quote_versions
                ‚Üì
         specifications ‚Üí deals ‚Üí plan_fact_items
   ```

2. **Supply Chain:**
   ```
   suppliers ‚Üí supplier_invoices ‚Üí supplier_invoice_items ‚Üí quote_items
                      ‚Üì
          supplier_invoice_payments
   ```

3. **Companies:**
   ```
   buyer_companies ‚Üê‚îÄ‚îê
   seller_companies  ‚îú‚îÄ‚Üí bank_accounts (polymorphic)
   suppliers ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   customers ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ```

4. **Workflow:**
   ```
   quotes ‚Üí workflow_transitions
              ‚Üì
           approvals
   ```

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–±–æ—Ç–µ

1. **–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Search/Filter –≤ Table Editor
   - –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ RLS

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - `quotes` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –ö–ü
   - `quote_items` - –ø–æ–∑–∏—Ü–∏–∏ –ö–ü —Å –∑–∞–∫—É–ø–æ—á–Ω—ã–º–∏/–ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   - `suppliers` + `supplier_invoices` - —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—á–µ—Ç–∞–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

3. **Frequently Used Tables:**
   - `quotes`, `quote_items` - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞
   - `specifications` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–ª–∏–µ–Ω—Ç—É
   - `deals` + `plan_fact_items` - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç
   - `approvals` - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç UUID –¥–ª—è ID
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏–º–µ—é—Ç RLS (Row Level Security)
- –í—Å–µ –¥–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ TIMESTAMPTZ (UTC)
- –í—Å–µ —Å—É–º–º—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç DECIMAL(15,2) –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- –ö–æ–¥—ã –≤–∞–ª—é—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 4217 (3 –±—É–∫–≤—ã)

---

**–°–æ–∑–¥–∞–Ω–æ:** 2026-01-20
**–ê–≤—Ç–æ—Ä:** Claude Code
**–í–µ—Ä—Å–∏—è:** 1.0
